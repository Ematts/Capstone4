@model IEnumerable<Capstone4.Models.ContractorReviewsIndexViewModel>

@{
    ViewBag.Title = "ReviewsIndex";
}

<h2>Contractor Reviews</h2>

@using (Html.BeginForm())
{
    
        @*Select Contractor: @Html.DropDownList("clientUsername", "All")
        Enter Contractor: @Html.TextBox("autocomplete") <br />
        <input type="submit" value="Search"  id="locationField" class="col-md-10"/>*@

        <br />
            
            <strong>Enter address below to see contractors in area:</strong>
            <div><br /></div>@Html.TextBox("autocomplete", "", new { @class = "form-control" })
            <input type="submit" value="Search" id="locationField" />
        

}
<br /><br />

<table class="table table-striped" id="homeTable" >
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Username)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OverallRating)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TotalRatings)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Username)
                </td>
                <td>
                    <input id="input-id" type="number" value="@item.OverallRating" class="rating" data-size="xs" name="OverallRating" data-readonly="true" data-show-clear="false">
                    <div style="display: none;">@item.OverallRating</div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TotalRatings)
                </td>
                <td>

                    @Html.ActionLink("Details", "SeeContractorReviews", new { id = item.ID })

                </td>
            </tr>
        }
   </tbody>
</table>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" rel="stylesheet">
    <link href="~/Content/star-rating.css" media="all" rel="stylesheet" type="text/css" />
    <link href="~/Content/ResponsiveDatatables.css" media="all" rel="stylesheet" type="text/css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.js"></script>
    <script src="~/Scripts/star-rating.js" type="text/javascript"></script>
    <link href="~/Content/theme-krajee-svg.css" media="all" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/theme-krajee-svg.js"></script>
    <link href="~/Content/DataTables.css" media="all" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/DataTables.js" type="text/javascript"></script>
    <script src="~/Scripts/ResponiveDataTables.js" type="text/javascript"></script>
    @{string source = System.IO.File.ReadAllText(@"C:\Users\erick\Desktop\Credentials\auto.txt");}
    <script src="@source"
        async defer></script>
    <script src="~/Scripts/ReviewsAuto.js"></script> 
    <script>
        $.extend(true, $.fn.dataTable.defaults, {
            "columnDefs": [
                { "orderable": false, "targets": 3 }
            ]
        });


            $(document).ready(function () {
                $('#homeTable').DataTable();
            });
            $('#homeTable').DataTable({
                scrollY: 500,
                responsive: true,
                scrollCollapse: true

            });
    </script>

}
